{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\code\\\\personal-finance-chatbot-full\\\\frontend\\\\src\\\\pages\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport { FiUsers, FiFileText, FiDownload, FiPlus, FiTrendingUp, FiTrendingDown, FiUser, FiFilter } from 'react-icons/fi';\nimport { FaChartPie } from 'react-icons/fa';\nimport React from \"react\";\nimport { Card, CardContent } from \"../components/ui/card\";\nimport { Button } from \"../components/ui/button\";\nimport { Input } from \"../components/ui/input\";\nimport Select from \"../components/ui/selection\";\nimport API from \"../services/api\";\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  var _dataStatitis$total_i, _dataStatitis$total_i2, _dataStatitis$total_e, _dataStatitis$total_e2, _dataStatitis$net_amo, _dataStatitis$net_amo2;\n  // const today = new Date().toISOString().split(\"T\")[0];\n  const [dataStatitis, setDataStatitis] = useState(null);\n\n  // State filter\n  const [filters, setFilters] = useState({\n    date_from: '',\n    date_to: ''\n    // Bạn có thể thêm các filter khác nếu cần\n  });\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Khi nhấn nút Apply Filters thì gọi API\n  const handleApplyFilters = () => {\n    getTransactionStatistics();\n  };\n  const navigate = useNavigate();\n  const getTransactionStatistics = async () => {\n    try {\n      const params = new URLSearchParams();\n      if (filters.date_from) params.append('date_from', filters.date_from);\n      if (filters.date_to) params.append('date_to', filters.date_to);\n      const token = sessionStorage.getItem(\"token\");\n      const res = await API.get(`/transactions/summary/statistics?${params.toString()}`, {\n        headers: {\n          Accept: \"application/json\",\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Transaction statistics:\", res.data);\n      setDataStatitis(res.data);\n      return res.data; // axios trả data trực tiếp ở đây\n    } catch (error) {\n      console.error(\"Error fetching transaction statistics:\", error);\n    }\n  };\n\n  // State entries lấy từ API\n  const [entries, setEntries] = useState([]);\n\n  // Hàm gọi API lấy dữ liệu transactions theo filter\n  const fetchTransactions = async () => {\n    try {\n      const token = sessionStorage.getItem(\"token\");\n\n      // Build query params từ filters\n      const params = new URLSearchParams();\n\n      // if (filters.transaction_type) params.append('transaction_type', filters.transaction_type);\n      // if (filters.category_display_name) params.append('category_display_name', filters.category_display_name);\n      // if (filters.search) params.append('search', filters.search);\n      // if (filters.date_from) params.append('date_from', filters.date_from);\n      // if (filters.date_to) params.append('date_to', filters.date_to);\n      // Bạn có thể thêm các tham số khác nếu API cần\n\n      // // Mặc định các param khác theo ví dụ của bạn\n      // params.append('payment_method', 'cash');\n      // params.append('location', 'Hà Nội');\n      // params.append('created_by', 'manual');\n      params.append('skip', '0');\n      params.append('limit', '5');\n      params.append('sort_by', 'CreatedAt');\n      params.append('sort_order', 'asc');\n      const res = await API.get(`/transactions/?${params.toString()}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          Accept: 'application/json'\n        }\n      });\n      const data = res.data;\n      console.log(\"API data:\", data);\n\n      // Giả sử API trả về mảng data\n      setEntries(res.data.transaction || []);\n      console.log('Entries set:', res.data.transaction);\n    } catch (error) {\n      console.error(\"Failed to fetch transactions:\", error);\n      setEntries([]);\n    }\n  };\n  useEffect(() => {\n    getTransactionStatistics();\n    fetchTransactions();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-[#121212] text-white p-6 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-x-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-[#1e1e1e] p-4 rounded space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"flex flex-row text-lg font-semibold\",\n          children: \"Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"date_from\",\n            value: filters.date_from,\n            onChange: handleFilterChange,\n            placeholder: \"Date from\",\n            className: \"px-3 py-2 rounded bg-[#121212] border border-gray-700\",\n            onFocus: e => e.target.type = \"date\",\n            onBlur: e => e.target.type = \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"date_to\",\n            value: filters.date_to,\n            onChange: handleFilterChange,\n            className: \"px-3 py-2 rounded bg-[#121212] border border-gray-700\",\n            placeholder: \"Date to\",\n            onFocus: e => e.target.type = \"date\",\n            onBlur: e => e.target.type = \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 pt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleApplyFilters,\n              className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(FiFilter, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), \" Apply Filters\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setFilters({\n                search: '',\n                category_display_name: '',\n                transaction_type: '',\n                date_from: '',\n                date_to: ''\n              }),\n              className: \"px-4 py-2 border border-gray-600 rounded\",\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-[#111] text-green-400\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Total Income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold\",\n              children: [\"$\", (_dataStatitis$total_i = dataStatitis === null || dataStatitis === void 0 ? void 0 : (_dataStatitis$total_i2 = dataStatitis.total_income) === null || _dataStatitis$total_i2 === void 0 ? void 0 : _dataStatitis$total_i2.toLocaleString()) !== null && _dataStatitis$total_i !== void 0 ? _dataStatitis$total_i : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-green-300\",\n              children: \"+12.5% from last period\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-[#111] text-red-400\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Total Expenses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold\",\n              children: [\"$\", (_dataStatitis$total_e = dataStatitis === null || dataStatitis === void 0 ? void 0 : (_dataStatitis$total_e2 = dataStatitis.total_expense) === null || _dataStatitis$total_e2 === void 0 ? void 0 : _dataStatitis$total_e2.toLocaleString()) !== null && _dataStatitis$total_e !== void 0 ? _dataStatitis$total_e : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-red-300\",\n              children: \"-8.2% from last period\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-[#111] text-green-400\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Net Income\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold\",\n              children: [\"$\", (_dataStatitis$net_amo = dataStatitis === null || dataStatitis === void 0 ? void 0 : (_dataStatitis$net_amo2 = dataStatitis.net_amount) === null || _dataStatitis$net_amo2 === void 0 ? void 0 : _dataStatitis$net_amo2.toLocaleString()) !== null && _dataStatitis$net_amo !== void 0 ? _dataStatitis$net_amo : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-green-300\",\n              children: \"+24.1% from last period\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"bg-[#111] text-white\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Savings Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl font-bold\",\n              children: dataStatitis !== null && dataStatitis !== void 0 && dataStatitis.total_expense ? ((dataStatitis.total_income - dataStatitis.total_expense) / dataStatitis.total_expense * 100).toFixed(2) + '%' : '100%'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-700 h-2 rounded mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-2 bg-green-400 rounded\",\n                style: {\n                  width: '36.7%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#1e1e1e] p-4 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold mb-1\",\n            children: \"Recent Transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mb-4\",\n            children: \"Your most recent financial activities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-3\",\n            children: entries.slice(0, 5).map(entry => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex justify-between border-b border-gray-700 pb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: entry.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: new Date(entry.CreatedAt).toLocaleString(\"vi-VN\", {\n                    day: \"2-digit\",\n                    month: \"2-digit\",\n                    year: \"numeric\",\n                    hour: \"2-digit\",\n                    minute: \"2-digit\"\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `font-semibold ${entry.transaction_type === \"income\" ? \"text-green-500\" : \"text-red-500\"}`,\n                  children: [\"$\", entry.amount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: entry.category_display_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)]\n            }, entry.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              navigate(\"/manual-input\");\n              console.log(\"Button Cancel clicked\");\n            },\n            className: \"w-full text-center text-sm text-blue-400 mt-3\",\n            children: \"View all transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#1e1e1e] p-4 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold mb-1\",\n            children: \"Budget Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mb-4\",\n            children: \"Your current budget utilization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), [{\n            name: 'Food',\n            percent: 75,\n            color: 'bg-white'\n          }, {\n            name: 'Transportation',\n            percent: 50,\n            color: 'bg-white'\n          }, {\n            name: 'Entertainment',\n            percent: 90,\n            color: 'bg-red-500'\n          }, {\n            name: 'Utilities',\n            percent: 30,\n            color: 'bg-white'\n          }].map(({\n            name,\n            percent,\n            color\n          }) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [percent, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-2 bg-gray-700 rounded\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `${color} h-2 rounded`,\n                style: {\n                  width: `${percent}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)]\n          }, name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              navigate(\"/budget\");\n            },\n            className: \"w-full text-center text-sm text-blue-400\",\n            children: \"View all budgets\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"jV10hLEK+zqOfqzqDYnlE/+jJH0=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useState","Layout","FiUsers","FiFileText","FiDownload","FiPlus","FiTrendingUp","FiTrendingDown","FiUser","FiFilter","FaChartPie","React","Card","CardContent","Button","Input","Select","API","useEffect","useNavigate","jsxDEV","_jsxDEV","Dashboard","_s","_dataStatitis$total_i","_dataStatitis$total_i2","_dataStatitis$total_e","_dataStatitis$total_e2","_dataStatitis$net_amo","_dataStatitis$net_amo2","dataStatitis","setDataStatitis","filters","setFilters","date_from","date_to","handleFilterChange","e","name","value","target","prev","handleApplyFilters","getTransactionStatistics","navigate","params","URLSearchParams","append","token","sessionStorage","getItem","res","get","toString","headers","Accept","Authorization","console","log","data","error","entries","setEntries","fetchTransactions","transaction","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onFocus","onBlur","onClick","search","category_display_name","transaction_type","total_income","toLocaleString","total_expense","net_amount","toFixed","style","width","slice","map","entry","description","Date","CreatedAt","day","month","year","hour","minute","amount","id","percent","color","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/code/personal-finance-chatbot-full/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useState } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport { FiUsers, FiFileText, FiDownload, FiPlus, FiTrendingUp, FiTrendingDown, FiUser, FiFilter } from 'react-icons/fi';\nimport { FaChartPie } from 'react-icons/fa';\nimport React from \"react\";\nimport { Card, CardContent } from \"../components/ui/card\";\nimport { Button } from \"../components/ui/button\";\nimport { Input } from \"../components/ui/input\";\nimport Select from \"../components/ui/selection\";\nimport API from \"../services/api\"\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Dashboard = () => {\n  // const today = new Date().toISOString().split(\"T\")[0];\n  const [dataStatitis, setDataStatitis] = useState(null);\n\n  // State filter\n  const [filters, setFilters] = useState({\n    date_from: '',\n    date_to: '',\n    // Bạn có thể thêm các filter khác nếu cần\n  });\n\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  // Khi nhấn nút Apply Filters thì gọi API\n  const handleApplyFilters = () => {\n    getTransactionStatistics();\n  };\n\n  const navigate = useNavigate();\n\n  const getTransactionStatistics = async () => {\n    try {\n      const params = new URLSearchParams();\n\n      if (filters.date_from) params.append('date_from', filters.date_from);\n      if (filters.date_to) params.append('date_to', filters.date_to);\n\n      const token = sessionStorage.getItem(\"token\");\n      const res = await API.get(\n        `/transactions/summary/statistics?${params.toString()}`,\n        {\n          headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      console.log(\"Transaction statistics:\", res.data);\n      setDataStatitis(res.data);\n      return res.data; // axios trả data trực tiếp ở đây\n\n    } catch (error) {\n      console.error(\"Error fetching transaction statistics:\", error);\n    }\n  };\n\n  // State entries lấy từ API\n  const [entries, setEntries] = useState([]);\n\n  // Hàm gọi API lấy dữ liệu transactions theo filter\n  const fetchTransactions = async () => {\n    try {\n      const token = sessionStorage.getItem(\"token\");\n\n      // Build query params từ filters\n      const params = new URLSearchParams();\n\n      // if (filters.transaction_type) params.append('transaction_type', filters.transaction_type);\n      // if (filters.category_display_name) params.append('category_display_name', filters.category_display_name);\n      // if (filters.search) params.append('search', filters.search);\n      // if (filters.date_from) params.append('date_from', filters.date_from);\n      // if (filters.date_to) params.append('date_to', filters.date_to);\n      // Bạn có thể thêm các tham số khác nếu API cần\n\n      // // Mặc định các param khác theo ví dụ của bạn\n      // params.append('payment_method', 'cash');\n      // params.append('location', 'Hà Nội');\n      // params.append('created_by', 'manual');\n      params.append('skip', '0');\n      params.append('limit', '5');\n      params.append('sort_by', 'CreatedAt');\n      params.append('sort_order', 'asc');\n\n\n      const res = await API.get(`/transactions/?${params.toString()}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          Accept: 'application/json',\n        }\n      });\n      const data = res.data;\n      console.log(\"API data:\", data);\n\n      // Giả sử API trả về mảng data\n      setEntries(res.data.transaction || []);\n      console.log('Entries set:', res.data.transaction);\n    } catch (error) {\n      console.error(\"Failed to fetch transactions:\", error);\n      setEntries([]);\n    }\n  };\n\n  useEffect(() => {\n    getTransactionStatistics();\n    fetchTransactions();\n  }, []);\n\n\n  return (\n    <Layout>\n      <div className=\"min-h-screen bg-[#121212] text-white p-6 space-y-6\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold\">Dashboard</h1>\n          <div className=\"space-x-2\">\n            {/* <button className=\"bg-white text-black px-4 py-2 rounded\">Export</button> */}\n            {/* <button\n              type=\"button\"\n              onClick={() => {\n                navigate(\"/create/transaction\");\n                console.log(\"Button Cancel clicked\");\n              }}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded\">Add Transaction</button> */}\n          </div>\n        </div>\n\n        <div className=\"bg-[#1e1e1e] p-4 rounded space-y-4\">\n          <h2 className=\"flex flex-row text-lg font-semibold\">Filters</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n\n            <input\n              type=\"text\"\n              name=\"date_from\"\n              value={filters.date_from}\n              onChange={handleFilterChange}\n              placeholder=\"Date from\"\n              className=\"px-3 py-2 rounded bg-[#121212] border border-gray-700\"\n              onFocus={(e) => e.target.type = \"date\"}\n              onBlur={(e) => e.target.type = \"text\"}\n            />\n            <input\n              type=\"text\"\n              name=\"date_to\"\n              value={filters.date_to}\n              onChange={handleFilterChange}\n              className=\"px-3 py-2 rounded bg-[#121212] border border-gray-700\"\n              placeholder=\"Date to\"\n              onFocus={(e) => e.target.type = \"date\"}\n              onBlur={(e) => e.target.type = \"text\"}\n            />\n\n            <div className=\"flex gap-2 pt-2\">\n              <button\n                onClick={handleApplyFilters}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded flex items-center gap-1\"\n              >\n                <FiFilter /> Apply Filters\n              </button>\n              <button\n                onClick={() => setFilters({\n                  search: '',\n                  category_display_name: '',\n                  transaction_type: '',\n                  date_from: '',\n                  date_to: '',\n                })}\n                className=\"px-4 py-2 border border-gray-600 rounded\"\n              >\n                Reset\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Summary Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Card className=\"bg-[#111] text-green-400\">\n            <CardContent className=\"p-4\">\n              <p>Total Income</p>\n              <p className=\"text-xl font-bold\">${dataStatitis?.total_income?.toLocaleString() ?? 0}</p>\n              <p className=\"text-xs text-green-300\">+12.5% from last period</p>\n            </CardContent>\n          </Card>\n          <Card className=\"bg-[#111] text-red-400\">\n            <CardContent className=\"p-4\">\n              <p>Total Expenses</p>\n              <p className=\"text-xl font-bold\">${dataStatitis?.total_expense?.toLocaleString() ?? 0}</p>\n              <p className=\"text-xs text-red-300\">-8.2% from last period</p>\n            </CardContent>\n          </Card>\n          <Card className=\"bg-[#111] text-green-400\">\n            <CardContent className=\"p-4\">\n              <p>Net Income</p>\n              <p className=\"text-xl font-bold\">${dataStatitis?.net_amount?.toLocaleString() ?? 0}</p>\n              <p className=\"text-xs text-green-300\">+24.1% from last period</p>\n            </CardContent>\n          </Card>\n          <Card className=\"bg-[#111] text-white\">\n            <CardContent className=\"p-4\">\n              <p>Savings Rate</p>\n              <p className=\"text-xl font-bold\">\n                {dataStatitis?.total_expense\n                  ? (((dataStatitis.total_income - dataStatitis.total_expense) / dataStatitis.total_expense) * 100).toFixed(2) + '%'\n                  : '100%'}\n              </p>\n              <div className=\"w-full bg-gray-700 h-2 rounded mt-2\">\n                <div className=\"h-2 bg-green-400 rounded\" style={{ width: '36.7%' }}></div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Stats Cards */}\n        {/* <div className=\"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-4\">\n          {[\n            { label: 'Total Balance', value: '$12,546.00', sub: '+2.5% from last month' },\n            { label: 'Income', value: '$4,935.00', sub: '+10.1% from last month' },\n            { label: 'Expenses', value: '$2,463.00', sub: '+7.2% from last month' },\n          ].map(({ label, value, sub }, i) => (\n            <div key={i} className=\"bg-[#1e1e1e] p-4 rounded shadow\">\n              <div className=\"text-gray-400 text-sm\">{label}</div>\n              <div className=\"text-xl font-semibold\">{value}</div>\n              <div className=\"text-green-500 text-sm\">{sub}</div>\n            </div>\n          ))}\n        </div> */}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n          {/* Recent Transactions */}\n          <div className=\"bg-[#1e1e1e] p-4 rounded\">\n            <h2 className=\"text-lg font-semibold mb-1\">Recent Transactions</h2>\n            <p className=\"text-sm text-gray-400 mb-4\">Your most recent financial activities</p>\n            <ul className=\"space-y-3\">\n              {entries.slice(0, 5).map((entry) => (\n                <li key={entry.id} className=\"flex justify-between border-b border-gray-700 pb-2\">\n                  <div>\n                    <div className=\"font-medium\">{entry.description}</div>\n                    <div className=\"text-xs text-gray-500\">{new Date(entry.CreatedAt).toLocaleString(\"vi-VN\", {\n                      day: \"2-digit\",\n                      month: \"2-digit\",\n                      year: \"numeric\",\n                      hour: \"2-digit\",\n                      minute: \"2-digit\"\n                    })}</div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className={`font-semibold ${entry.transaction_type === \"income\" ? \"text-green-500\" : \"text-red-500\"\n                      }`}>${entry.amount}</div>\n                    <div className=\"text-xs text-gray-500\">{entry.category_display_name}</div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n            <button\n              type=\"button\"\n              onClick={() => {\n                navigate(\"/manual-input\");\n                console.log(\"Button Cancel clicked\");\n              }}\n              className=\"w-full text-center text-sm text-blue-400 mt-3\"\n            >View all transactions</button>\n          </div>\n\n          {/* Budget Status */}\n          <div className=\"bg-[#1e1e1e] p-4 rounded\">\n            <h2 className=\"text-lg font-semibold mb-1\">Budget Status</h2>\n            <p className=\"text-sm text-gray-400 mb-4\">Your current budget utilization</p>\n            {[\n              { name: 'Food', percent: 75, color: 'bg-white' },\n              { name: 'Transportation', percent: 50, color: 'bg-white' },\n              { name: 'Entertainment', percent: 90, color: 'bg-red-500' },\n              { name: 'Utilities', percent: 30, color: 'bg-white' },\n            ].map(({ name, percent, color }) => (\n              <div key={name} className=\"mb-4\">\n                <div className=\"flex justify-between text-sm mb-1\">\n                  <span>{name}</span>\n                  <span>{percent}%</span>\n                </div>\n                <div className=\"w-full h-2 bg-gray-700 rounded\">\n                  <div\n                    className={`${color} h-2 rounded`}\n                    style={{ width: `${percent}%` }}\n                  ></div>\n                </div>\n              </div>\n            ))}\n            <button\n              onClick={() => {\n                navigate(\"/budget\");\n              }}\n              className=\"w-full text-center text-sm text-blue-400\">View all budgets</button>\n          </div>\n        </div>\n\n\n\n\n        {/* Budget Utilization & Insights\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Card className=\"bg-[#111]\">\n                        <CardContent className=\"p-4 text-white\">\n                            <p className=\"font-semibold\">Budget Utilization</p>\n                            <p className=\"text-sm mb-2\">Overall Budget Usage: 81.3%</p>\n                            <div className=\"w-full bg-gray-700 h-2 rounded\">\n                                <div className=\"h-2 bg-blue-400 rounded\" style={{ width: '81.3%' }}></div>\n                            </div>\n                            <div className=\"text-xs mt-2\">Transactions: 47 | Avg. Size: $60.48</div>\n                        </CardContent>\n                    </Card>\n                    <Card className=\"bg-[#111]\">\n                        <CardContent className=\"p-4 text-white space-y-2\">\n                            <p className=\"font-semibold\">Quick Insights</p>\n                            <div className=\"text-sm\">Top Spending Category: <span className=\"text-red-400 font-medium\">Food ($450.75)</span></div>\n                            <div className=\"text-sm\">Budget Performance: <span className=\"text-red-400\">- $127.30 (3 categories over budget)</span></div>\n                        </CardContent>\n                    </Card>\n                </div>\n\n                {/* Spending Trends */}\n        {/* <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Card className=\"bg-[#111]\">\n                        <CardContent className=\"p-4 text-white\">\n                            <p className=\"font-semibold mb-2\">Spending Over Time</p>\n                            {[\n                                { week: \"Week 1\", amount: 425.5, change: \"+12.5%\", color: \"text-green-300\" },\n                                { week: \"Week 2\", amount: 380.25, change: \"+10.6%\", color: \"text-green-300\" },\n                                { week: \"Week 3\", amount: 520.75, change: \"+36.9%\", color: \"text-red-300\" },\n                                { week: \"Week 4\", amount: 445.3, change: \"+14.5%\", color: \"text-green-300\" },\n                            ].map((item, idx) => (\n                                <div key={idx} className=\"mb-2\">\n                                    <p className=\"text-sm\">{item.week}: <span className={item.color}>${item.amount} ({item.change})</span></p>\n                                    <div className=\"w-full bg-gray-700 h-2 rounded\">\n                                        <div className=\"h-2 bg-blue-400 rounded\" style={{ width: `${(item.amount / 600) * 100}%` }}></div>\n                                    </div>\n                                </div>\n                            ))}\n                        </CardContent>\n                    </Card> */}\n\n        {/* Category Trends */}\n        {/* <Card className=\"bg-[#111]\">\n                        <CardContent className=\"p-4 text-white\">\n                            <p className=\"font-semibold mb-2\">Category Trends</p>\n                            {[\n                                { label: \"Food\", from: 420.3, to: 450.75, change: \"+7.2%\", up: true },\n                                { label: \"Transportation\", from: 245.8, to: 210.5, change: \"-14.4%\", up: false },\n                                { label: \"Entertainment\", from: 165.9, to: 180.25, change: \"+8.6%\", up: true },\n                            ].map((cat, idx) => (\n                                <div key={idx} className=\"text-sm mb-2\">\n                                    {cat.label}: ${cat.from.toFixed(2)} → ${cat.to.toFixed(2)} <span className={cat.up ? \"text-green-300\" : \"text-red-300\"}>{cat.change}</span>\n                                </div>\n                            ))}\n                        </CardContent>\n                    </Card>\n                 </div> */}\n\n      </div>\n\n    </Layout>\n  )\n}\n\nexport default Dashboard"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}